# 展开讲一下什么是事件循环

首先JS是`单线程`的，如果遇到耗时任务，容易造成阻塞。所以可以通过异步任务，将耗时任务放到任务队列中等待执行。

事件循环机制，就是执行栈中的任务执行完毕以后，检查任务队列，将任务队列中的一个任务，放到执行栈执行，执行完毕以后，继续检查任务队列，循环反复。

任务队列分为`宏任务队列`和`微任务队列`，执行栈的任务完成以后，会优先检查微任务队列，直到微任务队列清空以后，才会执行下一个宏任务，每次执行完一个宏任务以后，都会优先检查和清空微任务队列，才执行下一个宏任务。

常见的宏任务有网络请求、setTimeout、setInterval等；常见的微任务有Promise.then()、MutationObserver和nodeJS的nextTick等；
